# TidyFlow 已知问题

> 版本 0.1.0 已知问题与规避方案

## 网络与连接

### 1. WebSocket 断线无自动重连
- **现象**: Core 重启后 UI 不会自动重连
- **影响**: 需要刷新页面或重启应用
- **规避**: 手动刷新页面 (Cmd+R) 或重启应用
- **计划**: v0.2.0 实现自动重连

### 2. 端口冲突无提示
- **现象**: 47999 端口被占用时 Core 启动失败
- **影响**: 用户可能不知道原因
- **规避**: 检查端口 `lsof -i :47999`，或设置 `TIDYFLOW_PORT`
- **计划**: v0.2.0 添加端口冲突检测和提示

---

## 文件与索引

### 3. 大型项目索引截断
- **现象**: 超过 50,000 文件时索引被截断
- **影响**: Quick Open 无法搜索所有文件
- **规避**: 确保 .gitignore 排除 node_modules 等大目录
- **计划**: 考虑增量索引或提高限制

### 4. 二进制文件 diff 显示原始内容
- **现象**: 二进制文件 diff 可能显示乱码
- **影响**: 用户体验不佳
- **规避**: 避免查看二进制文件 diff
- **计划**: v0.2.0 添加二进制文件检测

### 5. 超大 diff 可能卡顿
- **现象**: >500KB 的 diff 渲染较慢
- **影响**: UI 可能短暂无响应
- **规避**: 避免一次性大量修改
- **计划**: v0.2.0 添加 diff 截断和分页

---

## Git 集成

### 6. 非 Git 仓库无明确提示
- **现象**: 非 git 目录的 Git 面板可能显示空白
- **影响**: 用户可能困惑
- **规避**: 确保项目是 git 仓库
- **计划**: v0.1.1 添加明确提示

### 7. Staged diff 为空时无提示
- **现象**: 无暂存文件时 Staged 模式显示空白
- **影响**: 用户可能以为功能故障
- **规避**: 先 `git add` 文件再查看 Staged diff
- **计划**: v0.1.1 添加 "No staged changes" 提示

---

## 编辑器

### 8. 大文件打开较慢
- **现象**: >1MB 文件打开需要几秒
- **影响**: 用户体验不佳
- **规避**: 避免打开超大文件
- **计划**: 考虑流式加载

### 9. 语法高亮有限
- **现象**: 仅支持常见语言高亮
- **影响**: 部分文件无高亮
- **规避**: 无
- **计划**: 逐步添加更多语言支持

---

## 终端

### 10. 终端历史不持久化
- **现象**: 重启应用后终端历史丢失
- **影响**: 需要重新输入命令
- **规避**: 使用 shell 自带历史 (上箭头)
- **计划**: 考虑会话持久化

### 11. 部分特殊字符显示异常
- **现象**: 某些 Unicode 字符可能显示不正确
- **影响**: 终端输出可能有乱码
- **规避**: 使用标准 ASCII 输出
- **计划**: 检查 xterm.js 字体配置

---

## 平台兼容性

### 12. 仅支持 macOS
- **现象**: 无 Windows/Linux 版本
- **影响**: 跨平台用户无法使用
- **规避**: 无
- **计划**: 长期考虑跨平台

### 13. Apple Silicon 未单独优化
- **现象**: 使用 Universal Binary
- **影响**: 可能未充分利用 ARM 性能
- **规避**: 无
- **计划**: 考虑 ARM 专用构建

---

## 其他

### 14. 无自动更新
- **现象**: 需要手动下载新版本
- **影响**: 用户可能错过更新
- **规避**: 关注 GitHub Releases
- **计划**: v0.3.0 实现自动更新

### 15. 无崩溃日志收集
- **现象**: 崩溃后无法自动上报
- **影响**: 难以诊断问题
- **规避**: 手动收集 Console.app 日志
- **计划**: v0.3.0 实现崩溃收集

---

## 问题反馈

发现新问题请提交 Issue:
- GitHub: [项目地址]/issues
- 请附带: macOS 版本、复现步骤、错误日志
